<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: simp_logstash::output::elasticsearch
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::simp_logstash::output::elasticsearch";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (s)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">simp_logstash::output::elasticsearch</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: simp_logstash::output::elasticsearch</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      /tmp/tmp_git_repo20171214-12245-u6n33h/manifests/output/elasticsearch.pp
    </dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    <p>A Logstash output to Elasticsearch</p>

<p>Though this class has a great deal repeated with the other output classes,
they remain separate in the event that variables need to be added in the
future for ERB processing.</p>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>absolute_healthcheck_path</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>When a healthcheck_path config is provided,
this additional flag can be used to specify whether the healthcheck_path
is appended to the existing path (default) or is treated as the absolute
URL path.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>action</span>
      
      
        <span class='type'>(<tt>Optional[Enum['index','delete','create']]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The Elasticsearch action to perform.
Allowed Values: index, delete, create, update
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>codec</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The codec used for output data.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>doc_as_upsert</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Create a new document with source if
<code>document_id</code> doesn’t exist in Elasticsearch.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>document_id</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The document ID for the index.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>document_type</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The document type to write events to.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enable_metric</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Whether to enable metric logging for this plugin
instance.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>failure_type_logging_whitelist</span>
      
      
        <span class='type'>(<tt>Optional[Array[String]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Elasticsearch errors you don’t want
to log.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>flush_size</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Maximum sized bulk request.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>healthcheck_path</span>
      
      
        <span class='type'>(<tt>Optional[Stdlib::Absolutepath]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>When a backend is marked down a HEAD request will be
sent to this path in the background to see if it has come back again
before it is once again eligible to service requests.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>host</span>
      
      
        <span class='type'>(<tt>Simplib::Host</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;localhost&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The host of the remote instance.
@note It is highly recommended that you couple an Elasticsearch ingest node
with the LogStash server itself.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>port</span>
      
      
        <span class='type'>(<tt>Simplib::Port</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>9199</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The port on the remote instance to which to connect.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;simp_elasticsearch&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Unique ID for this output plugin configuration.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>idle_flush_time</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The amount of time since last flush before a
flush is forced.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>index</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The index to write events to.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>manage_template</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If set, apply a default mapping template
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parameters</span>
      
      
        <span class='type'>(<tt>Optional[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Pass a set of key value pairs as the URL query string.
This query string is added to the host listed in the host configuration.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The ID of the associated parent document.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>Optional[Stdlib::Absolutepath]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>HTTP path at which the Elasticsearch server lives.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>pipeline</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Which ingest pipeline you wish to execute for an event.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>pool_max</span>
      
      
        <span class='type'>(<tt>Optional[Integer[1]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Maximum number of open connections the output will create.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>pool_max_per_route</span>
      
      
        <span class='type'>(<tt>Optional[Integer[1]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Maximum number of open connections per endpoint
the output will create.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resurrect_delay</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>How frequently, in seconds, to wait between
resurrection attempts.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>retry_initial_interval</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Initial interval in seconds between bulk
retries.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>retry_max_interval</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set max interval between bulk retries.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>retry_on_conflict</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Number of times Elasticsearch should internally
retry an update/upserted document.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>routing</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A routing override to be applieid to all events.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>script</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set script name for scripted update module.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>script_lang</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set the language of the used script.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>script_type</span>
      
      
        <span class='type'>(<tt>Optional[Array[Enum['inline','indexed','file']]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Define the type of script referenced by <code>$script</code>.
Allowed Values: ‘inline’, ‘indexed’, ‘file’
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>script_var_name</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Variable name passed to script.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>scripted_upsert</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If set, <code>$script</code> is in charge of creating
non-existent document
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>template</span>
      
      
        <span class='type'>(<tt>Optional[Stdlib::Absolutepath]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The path to your own template.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>template_name</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name of the template in Elasticsearch.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>template_overwrite</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If set, overwrite the indicated template
in ES with either the one dicated by <code>template</code> or the included one.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Timeout for network operations.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>upsert</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Upsert content for update mode.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>validate_after_inactivity</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>How long to wait before checking if
the connection is stale before executing a request on a connection
using keepalive.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Version to use for indexing.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version_type</span>
      
      
        <span class='type'>(<tt>Optional[Enum['internal','external',
    'external_gt', 'external_gte', 'force']]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>version_type to use for indexing.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>workers</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Number of workers to use for this output.
@see https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>order</span>
      
      
        <span class='type'>(<tt>Integer[0]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>50</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The relative order within the configuration group. If
omitted, the entries will fall in alphabetical order.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The content that you wish to have in your filter. If
set, this will override <em>all</em> template contents.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stunnel_port</span>
      
      
        <span class='type'>(<tt>Simplib::Port</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>9200</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The port on the local host to which to connect to
use the stunnel connection to the remote ES system. This is not required if
you are connecting to an ES server on the local system.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stunnel_verify</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>2</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Level of mutual authentication to perform</p>

<ul>
  <li>RHEL 6 Options:
    <ul>
      <li>level 1 - verify peer certificate if present</li>
      <li>level 2 - verify peer certificate</li>
      <li>level 3 - verify peer with locally installed certificate</li>
      <li>default - no verify</li>
    </ul>
  </li>
  <li>RHEL 7 Options:
    <ul>
      <li>level 0 - Request and ignore peer certificate.</li>
      <li>level 1 - Verify peer certificate if present.</li>
      <li>level 2 - Verify peer certificate.</li>
      <li>level 3 - Verify peer with locally installed certificate.</li>
      <li>level 4 - Ignore CA chain and only verify peer certificate.</li>
      <li>default - No verify</li>
    </ul>
  </li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stunnel_elasticsearch</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If set, use a stunnel connection to
connect to ES. This is necessary if you are using ES behind an HTTPS proxy.
If you’re using ES on the same host, and using the <code>::simp_elasticsearch</code>
class (the default), then the system will auto-adjust to ignore this
setting.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Trevor Vaughan <a href="mailto:tvaughan@onyxpoint.com">tvaughan@onyxpoint.com</a></p>
</div>
      
    </li>
  
</ul>

</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File '/tmp/tmp_git_repo20171214-12245-u6n33h/manifests/output/elasticsearch.pp', line 186</span>

class simp_logstash::output::elasticsearch (
  Optional[Boolean]                                 $absolute_healthcheck_path = undef,
  Optional[Enum[&#39;index&#39;,&#39;delete&#39;,&#39;create&#39;]]         $action                = undef,
  Optional[String]                                  $codec                 = undef,
  Optional[Boolean]                                 $doc_as_upsert         = undef,
  Optional[String]                                  $document_id           = undef,
  Optional[String]                                  $document_type         = undef,
  Optional[Boolean]                                 $enable_metric         = undef,
  Optional[Array[String]]                           $failure_type_logging_whitelist = undef,
  Optional[Integer[0]]                              $flush_size            = undef,
  Optional[Stdlib::Absolutepath]                    $healthcheck_path      = undef,
  Simplib::Host                                     $host                  = &#39;localhost&#39;,
  Optional[String]                                  $id                    = &#39;simp_elasticsearch&#39;,
  Simplib::Port                                     $port                  = 9199,
  Optional[Integer[0]]                              $idle_flush_time       = undef,
  Optional[String]                                  $index                 = undef,
  Optional[Boolean]                                 $manage_template       = undef,
  Optional[Hash]                                    $parameters            = undef,
  Optional[String]                                  $parent                = undef,
  Optional[Stdlib::Absolutepath]                    $path                  = undef,
  Optional[String]                                  $pipeline              = undef,
  Optional[Integer[1]]                              $pool_max              = undef,
  Optional[Integer[1]]                              $pool_max_per_route    = undef,
  Optional[Integer[0]]                              $resurrect_delay       = undef,
  Optional[Integer[0]]                              $retry_initial_interval = undef,
  Optional[Integer[0]]                              $retry_max_interval    = undef,
  Optional[Integer[0]]                              $retry_on_conflict     = undef,
  Optional[String]                                  $routing               = undef,
  Optional[String]                                  $script                = undef,
  Optional[String]                                  $script_lang           = undef,
  Optional[Array[Enum[&#39;inline&#39;,&#39;indexed&#39;,&#39;file&#39;]]]  $script_type           = undef,
  Optional[String]                                  $script_var_name       = undef,
  Optional[Boolean]                                 $scripted_upsert       = undef,
  Optional[Stdlib::Absolutepath]                    $template              = undef,
  Optional[String]                                  $template_name         = undef,
  Optional[Boolean]                                 $template_overwrite    = undef,
  Optional[Integer[0]]                              $timeout               = undef,
  Optional[String]                                  $upsert                = undef,
  Optional[Integer[0]]                              $validate_after_inactivity = undef,
  Optional[String]                                  $version               = undef,
  Optional[Enum[&#39;internal&#39;,&#39;external&#39;,
    &#39;external_gt&#39;, &#39;external_gte&#39;, &#39;force&#39;]]        $version_type          = undef,
  Optional[Integer[0]]                              $workers               = undef,
  Integer[0]                                        $order                 = 50,
  Optional[String]                                  $content               = undef,
  Integer                                           $stunnel_verify        = 2,
  Simplib::Port                                     $stunnel_port          = 9200,
  Boolean                                           $stunnel_elasticsearch = true
) {

  $_is_local = host_is_me($host)

  if $stunnel_elasticsearch {
    $_host = &#39;127.0.0.1&#39;

    if $_is_local {
      $_port = $port
    }
    else {
      include &#39;::stunnel&#39;

      stunnel::connection { &#39;logstash_elasticsearch&#39;:
        client  =&gt; true,
        connect =&gt; [&quot;${host}:${stunnel_port}&quot;],
        accept  =&gt; &quot;${_host}:${stunnel_port}&quot;,
        verify  =&gt; $stunnel_verify
      }

      $_port = $stunnel_port
    }
  }
  else {
    $_host = $host
    $_port = $port
  }

  ### Common material to all outputs
  include &#39;::simp_logstash&#39;

  $_component_name = &#39;elasticsearch&#39;
  $_group = &#39;output&#39;
  $_group_order = $::simp_logstash::config_order[$_group]

  if empty($content) {
    $_content = template(&quot;${module_name}/${_group}/${_component_name}.erb&quot;)
  }
  else {
    $_content = $content
  }

  file { &quot;${::simp_logstash::config_prefix}-${_group_order}_${_group}-${order}-${_component_name}${::simp_logstash::config_suffix}&quot;:
    ensure  =&gt; &#39;file&#39;,
    owner   =&gt; &#39;root&#39;,
    group   =&gt; $::logstash::logstash_group,
    mode    =&gt; &#39;0640&#39;,
    content =&gt; $_content,
    notify  =&gt; Class[&#39;logstash::service&#39;]
  }
  ### End common material
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>