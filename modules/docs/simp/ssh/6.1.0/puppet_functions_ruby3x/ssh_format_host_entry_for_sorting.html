<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Function: ssh_format_host_entry_for_sorting (Ruby 3.x API)
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_functions_ruby3x::ssh_format_host_entry_for_sorting";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_function_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (s)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Functions</span></span>
     &raquo; 
    <span class="title">ssh_format_host_entry_for_sorting</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Function: ssh_format_host_entry_for_sorting</h1>
<div class="box_info">
  <dl>
    <dt>Defined in:</dt>
    <dd>
      /tmp/tmp_git_repo20171214-12245-5vukdg/lib/puppet/parser/functions/ssh_format_host_entry_for_sorting.rb
    </dd>
  </dl>
  <dl>
    <dt>Function type:</dt>
    <dd>Ruby 3.x API</dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="method_details first">
  
  <div class="tags overload overload_item">
    <span class="overload">
      <span class="overload_item">
        <span class="signature first" style="margin-left: 0px;"><strong>ssh_format_host_entry_for_sorting()</strong> &#x21d2; <tt>Any</tt> </span>
      </span>
    </span>
  </div>
  
  <div class="docstring">
    <div class="discussion">
      <p>A method to sensibly format sort SSH ‘host’ entries which contain wildcards
and question marks.</p>

<p>The output is intended for use with the simpcat_fragment type and is <em>not</em>
meant for use as a host entry itself.</p>

<p>The general idea is that it places all items at the bottom of the list
using zzzz, then sorts by question marks first per section then wildcards
per section.</p>

<p>Example:
Input: ‘<em>’
‘</em>.foo.bar’,’<em>’,’me.foo.</em>.bar’,’*.foo.bar’,’me.foo.?.bar’
Output: ‘zzzz98_st__’</p>

<p>Input: ‘*.foo.bar’
Output: ‘zzzz96_st__.foo.bar’</p>

<p>Input: ‘foo.?.bar’
Output: ‘foo.zzzz95_qu__.bar’</p>

<p>Input: ‘foo?.*.bar’
Output: ‘foozzzz96<em>qu</em></p>

    </div>
  </div>
  <div class="tags">
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File '/tmp/tmp_git_repo20171214-12245-5vukdg/lib/puppet/parser/functions/ssh_format_host_entry_for_sorting.rb', line 2</span>

<span class='id identifier rubyid_newfunction'>newfunction</span><span class='lparen'>(</span><span class='symbol'>:ssh_format_host_entry_for_sorting</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:rvalue</span><span class='comma'>,</span> <span class='symbol'>:doc</span> <span class='op'>=&gt;</span> <span class='heredoc_beg'>&lt;&lt;-&#39;DOC&#39;</span><span class='comma'>,</span> <span class='symbol'>:arity</span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_args'>args</span><span class='op'>|</span>

  <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='tstring_content'>  A method to sensibly format sort SSH &#39;host&#39; entries which contain wildcards
  and question marks.

  The output is intended for use with the simpcat_fragment type and is *not*
  meant for use as a host entry itself.

  The general idea is that it places all items at the bottom of the list
  using zzzz, then sorts by question marks first per section then wildcards
  per section.

  Example:
  Input: &#39;*&#39;
  &#39;*.foo.bar&#39;,&#39;*&#39;,&#39;me.foo.*.bar&#39;,&#39;*.foo.bar&#39;,&#39;me.foo.?.bar&#39;
  Output: &#39;zzzz98_st__&#39;

  Input: &#39;*.foo.bar&#39;
  Output: &#39;zzzz96_st__.foo.bar&#39;

  Input: &#39;foo.?.bar&#39;
  Output: &#39;foo.zzzz95_qu__.bar&#39;

  Input: &#39;foo?.*.bar&#39;
  Output: &#39;foozzzz96_qu__.zzzz95_st__.bar&#39;
</span><span class='heredoc_end'>  DOC
</span>  <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>Puppet</span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You must pass a string to ssh_format_host_entry_for_sorting</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_segments'>segments</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_refnum'>refnum</span> <span class='op'>=</span> <span class='int'>100</span> <span class='op'>-</span> <span class='id identifier rubyid_segments'>segments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>

  <span class='id identifier rubyid_segments'>segments</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_refnum'>refnum</span> <span class='op'>=</span> <span class='id identifier rubyid_refnum'>refnum</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zzzz</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_refnum'>refnum</span><span class='embexpr_end'>}</span><span class='tstring_content'>_st__</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zzzz</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_refnum'>refnum</span><span class='embexpr_end'>}</span><span class='tstring_content'>_qu__</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  </table>
</div>

</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>